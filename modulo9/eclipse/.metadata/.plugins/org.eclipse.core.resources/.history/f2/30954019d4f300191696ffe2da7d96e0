/*
 * Parado.cpp
 *
 *  Created on: 18 oct. 2019
 *      Author: antonio
 */

#include "Parado.h"
#include "Apagado.h"
#include "EnMarcha.h"
#include "SinCombustible.h"

#include <iostream>


Parado::Parado(){
}

void Parado::frenar(Coche &coche) {
	std::cout << "El estado se mantiene (frenar en parado)" << std::endl;
	coche.imprimirEstado();
}

void Parado::acelerar(Coche &coche) {
	std::cout << "Acelerar en parado" << std::endl;

	if(coche.getCombustible()==0){
		coche.setEstado(std::shared_ptr<State>(new SinCombustible()));
		coche.setVelocidad(0);
	}else{
		coche.modificarVelocidad(10);
		coche.modificarCombustible(-10);
		coche.setEstado(std::shared_ptr<State>(new EnMarcha()));
	}
	coche.imprimirEstado();
}

void Parado::contacto(Coche &coche) {
	std::cout << "Contacto en parado" << std::endl;
	coche.setEstado(std::shared_ptr<State>(new Apagado()));
	coche.imprimirEstado();
}

Parado::~Parado() {
	// TODO Auto-generated destructor stub
}

